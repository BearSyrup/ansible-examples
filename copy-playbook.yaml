-
  name: Copy a python file, edit and execute
  hosts: target1
  user: root

  tasks:
    - name: Install the latest python
      yum:
        name: python3
        state: latest

    - name: Copy a local python file to the target
      copy: 
        src: hello.py
        dest: /home/osboxes/Documents
    
    - name: Putting a new line in a file
      lineinfile:
        dest: /home/osboxes/Documents/hello.py
        line: "print('wow so dangerous')"

    - name: Exec the py file
      shell: ls /home/osboxes/Documents/hello.py

    - name: Exec the py file
      shell: /home/osboxes/Documents/hello.py

